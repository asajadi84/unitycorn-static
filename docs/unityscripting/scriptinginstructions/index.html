<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">دستورات اجرای کد | یونیتیکورن</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="دستورات اجرای کد | یونیتیکورن"><meta data-react-helmet="true" name="description" content="متدهای Invoke"><meta data-react-helmet="true" property="og:description" content="متدهای Invoke"><meta data-react-helmet="true" property="og:url" content="https://unitycorn.ir/docs/unityscripting/scriptinginstructions"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://unitycorn.ir/docs/unityscripting/scriptinginstructions"><link rel="stylesheet" href="/styles.7557696f.css">
<link rel="preload" href="/styles.adf69334.js" as="script">
<link rel="preload" href="/runtime~main.7c156b5d.js" as="script">
<link rel="preload" href="/main.051110ab.js" as="script">
<link rel="preload" href="/1.36911208.js" as="script">
<link rel="preload" href="/2.9b748b87.js" as="script">
<link rel="preload" href="/57.08c438cc.js" as="script">
<link rel="preload" href="/f976f453.9437ea21.js" as="script">
<link rel="preload" href="/17896441.1d34f737.js" as="script">
<link rel="preload" href="/771b9254.edfe364e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">یونیتیکورن</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://zarinp.al/@asajadi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">حمایت مالی</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">یونیتیکورن</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://zarinp.al/@asajadi" target="_blank" rel="noopener noreferrer" class="menu__link">حمایت مالی</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 مقدمه</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/passage">بررسی کلی بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/explanation">توضیحات مهم قبل از شروع</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/requirements">پیش‌نیازهای بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/install">دریافت و نصب یونیتی (ویندوز)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 شروع توسعه در یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/project">پیش‌نیازهای بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/editor">بررسی ادیتور یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/gamedesign">طراحی بازی در یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/components">کامپوننت‌های مبتدی یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/androidbuild">گرفتن خروجی اندروید از پروژه</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🛠️ آموزش برنامه‌نویسی سی شارپ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/intro">مقدمه‌ای بر برنامه‌نویسی و زبان سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/consoleappexamples">چند مثال تحت کنسول</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/oop">شی‌گرایی در سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/extensionmethods">متدهای توسعه‌یافته</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/enum">نوع داده‌ی enum و کاربرد آن در یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/solid">قواعد SOLID در طراحی شی‌گرا</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/genericmethods">متدهای generic سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/singleton">بررسی کاربرد و طرز کار دیزاین پترن singleton</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/exceptionhandling">مدیریت استثنا (خطا) در سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/csharp/tips">نکات سی شارپ</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">🛠️ اسکریپت‌نویسی در یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/intro">مقدمه</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/scriptsstructure">ساختار و طرز کار اسکریپت‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/monobehaviourfield">نقش فیلد در اسکریپت MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/monobehaviourmethod">نقش متد در اسکریپت MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/scriptingsummary">خلاصه‌ی مراحل اسکریپت‌نویسی MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/unityclasses">کلاس‌های پراستفاده‌ی یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/unityscripting/unitysnippets">قطعه‌کدهای کاربردی در یونیتی</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/unityscripting/scriptinginstructions">دستورات اجرای کد</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 قابلیت‌های یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/spriteeditor">اسپرایت ادیتور</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/animation">انیمیشن در یونیتی (دوبعدی)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/audiomixer">میکسر صوتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/unityremote">یونیتی ریموت</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/optimization">بهینه‌سازی بازی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 ساخت رابط کاربری با UI system</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityui/uisystem">آشنایی با UI System یونیتی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 معرفی پکیج‌های یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unitypackages/playground">Playground</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎨 آموزش فتوشاپ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/ui">بررسی رابط کاربری و آشنایی کلی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/tools">ابزارها و امکانات</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/layers">مفهوم لایه‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/layerstyle">سبک لایه و استایل</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/text">کار با متن</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/panels">پنل‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/adjustments">ویرایش و تنظیم تصاویر</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/filters">فیلترها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/brushes">براش‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/actions">اکشن‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/3d">سه‌بعدی‌سازها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/masks">ماسک‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/projects">پروژه‌های تمرینی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 آموزش‌های متفرقه</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc/androidstudio2unity">مهاجرت از اندروید استودیو به یونیتی</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">دستورات اجرای کد</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="متدهای-invoke"></a>متدهای Invoke<a aria-hidden="true" tabindex="-1" class="hash-link" href="#متدهای-invoke" title="Direct link to heading">#</a></h2><p>متدهای Invoke متدهایی هستند که می‌توانند متد دیگری را در زمان دلخواه توسعه‌دهنده فراخوانی کنند.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="متد-invoke"></a>متد <code>Invoke</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#متد-invoke" title="Direct link to heading">#</a></h3><p>متد <code>Invoke</code> می‌تواند پس از طی یک بازه‌ی زمانی متد دیگری را فراخوانی کند. برای استفاده از Invoke ابتدا متد جدیدی (در همان اسکریپت) تعریف کرده و کدهای موردنظر را درون آن می‌نویسیم. سپس از دستور زیر استفاده می‌کنیم:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">Invoke</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">“MyMethod”</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>پارامتر اول: نام متد / پارامتر دوم: مدت زمان تاخیر از زمان اجرای Invoke</em></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>نکته</h5></div><div class="admonition-content"><p>اگر از Invoke در متدهایی که چندین بار تکرار می‌شوند (مثل <code>Update</code>) استفاده شود، دستورات درون متد <code>MyMethod</code> پس از طی شدن زمان Invoke مطابق با تعداد دفعات اجرای متدی که درون آن قرار دارند (مثل <code>Update</code>) اجرا خواهند شد.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="متد-invokerepeating"></a>متد <code>InvokeRepeating</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#متد-invokerepeating" title="Direct link to heading">#</a></h3><p>متد <code>InvokeRepeating</code> می‌تواند متد دیگری را در بازه‌های زمانی منظم فراخوانی کند. برای مثال در صورتی که قصد داشته باشیم یک تفنگ هر 5 ثانیه یک بار شلیک کند کد شلیک را درون متدی به نام <code>Shoot</code> (در همان اسکریپت) نوشته و آن را توسط InvokeRepeating فراخوانی می‌کنیم:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">InvokeRepeating</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">“Shoot”</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>پارامتر اول: نام متد / پارامتر دوم: مدت زمان اولین تاخیر / پارامتر سوم: بازه‌های زمانی وقفه‌های بعدی</em></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>نکته</h5></div><div class="admonition-content"><p>متد <code>InvokeRepeating</code> در توابعی که تنها یک بار اجرا می‌شوند به درستی عمل می‌کند. یعنی برای مثال اگر این متد در <code>Update</code> اجرا شود پس از گذشت مدت زمان اولین تاخیر متد <code>Shoot</code> متناوباً شروع به اجرا خواهد کرد و عملکرد صحیحی نخواهد داشت.</p></div></div><p>استفاده از متدهای Invoke دارای معایب زیادی است. از جمله عدم امکان متوقف کردن آن‌ها به صورت جداگانه و به تفکیک نام (برای متوقف کردن تمام Invokeهای در حال اجرا از قطعه کد <code>CancelInvoke()</code> استفاده می‌کنیم) و همچنین خطاهایی که در نکته‌ها بررسی کردیم. به همین منظور در توسعه‌ی بازی معمولاً از متدهای Invoke استفاده نکرده و به ساختارهایی مانند Coroutineها روی می‌آوریم.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="coroutineها"></a>Coroutineها<a aria-hidden="true" tabindex="-1" class="hash-link" href="#coroutineها" title="Direct link to heading">#</a></h2><p>در صورتی که در اسکریپت‌های MonoBehaviour قصد داشته باشیم کدی را در خارج از چرخه‌ی عمر گیم آبجکت اجرا کنیم از Coroutine استفاده می‌کنیم. Coroutine نوعی متد است که این امکان را فراهم می‌کند تا چندین کد به صورت همزمان اجرا شوند (مالتی تسکینگ).</p><p>برای مثال فرض کنید در یک صحنه از بازی قصد داریم با وارد شدن پلیر به درون collider قلمروی دشمن، گیم آبجکت دشمن شروع به حرکت کرده و به پلیر نزدیک شود. برای پیاده‌سازی این قابلیت باید کامپوننت Transform گیم آبجکت دشمن را دریافت کرده و با دسترسی مستقیم به پراپرتی localPosition اقدام به جابجایی آن به سمت پلیر کنیم. بدیهی است که این عمل چند ثانیه به طول می‌انجامد و اجرایی شدن آن نیازمند اجرای کد مربوطه در چند صد فریم می‌باشد. در حالی که متد OnTriggerEnter2D مربوط به قلمرو تنها یک بار اجرا می‌شود. برای حل این مشکل کد مربوط به حرکت دشمن را در یک Coroutine تعریف کرده و در متد نفوذ آن را صدا می‌زنیم. در این حالت محتویات درون Coroutine مستقل از کدهای MonoBehaviour و در یک نخ مجزا شروع به اجرا می‌کنند.</p><p>همچنین در صورتی که بخواهیم یک کد پس از مدت زمان معینی اجرا شود از Coroutine استفاده می‌کنیم.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ساختار-یک-coroutine"></a>ساختار یک Coroutine<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ساختار-یک-coroutine" title="Direct link to heading">#</a></h3><p>ساختار یک Coroutine به صورت زیر است:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IEnumerator </span><span class="token function" style="color:rgb(130, 170, 255)">myCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Coroutine codes</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>خروجی متدهای Coroutine از نوع <code>IEnumerator</code> بوده و با استفاده از کلمه‌ی کلیدی <code>yield</code> که درون بلوک نوشته می‌شود می‌توان اجرای دستورات را در آن نقطه تعلیق کرد.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="دستورات-تعلیق"></a>دستورات تعلیق<a aria-hidden="true" tabindex="-1" class="hash-link" href="#دستورات-تعلیق" title="Direct link to heading">#</a></h3><p>دستورات تعلیق دستوراتی هستند که با ایجاد وقفه‌های مناسب کارکرد دلخواه را در بازی پیاده‌سازی کرده و یا باعث جلوگیری از کرش کردن بازی می‌شوند. دستورات تعلیق مهم عبارتند از:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>تعلیق اجرای دستورات نخ در این نقطه تا پایان فریم</em></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WaitForSeconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>تعلیق اجرای دستورات نخ در این نقطه به مدت 2 ثانیه</em></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="کاربرد-دستورات-تعلیق"></a>کاربرد دستورات تعلیق<a aria-hidden="true" tabindex="-1" class="hash-link" href="#کاربرد-دستورات-تعلیق" title="Direct link to heading">#</a></h4><ol><li><p>تعلیق تا پایان فریم (<code>yield return null</code>):</p><p>در بسیاری از موارد، قصد داریم که دستورات درون Coroutine بیش از یک بار اجرا شوند (مثل متد <code>Update</code>). به این منظور از یک حلقه‌ی تکرار همیشه صحیح مثل <code>while(true)</code> استفاده می‌کنیم. اما از آن‌جایی که در حالت عادی یک حلقه‌ی تکرار همیشه صحیح موجب کرش کردن برنامه می‌شود با نوشتن <code>yield return null</code> درون حلقه به بازی این امکان را می‌دهیم تا پس از اجرای بلوک حلقه به فریم بعدی رفته و سپس بلوک حلقه دوباره اجرا شود.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IEnumerator </span><span class="token function" style="color:rgb(130, 170, 255)">myCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></li><li><p>تعلیق به مدت زمان معین (<code>yield return new WaitForSeconds</code>):</p><p>برای این که یک کد در بازی پس از مدت زمانی معین اجرا شود می‌توان از Coroutine و دستور <code>yield return new WaitForSeconds</code> استفاده نمود. به عنوان مثال صدا زدن این Coroutine باعث می‌شود که پس از <code>5</code> ثانیه پیام <code>Hello</code> در پنجره‌ی کنسول ادیتور نمایش داده شود:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IEnumerator </span><span class="token function" style="color:rgb(130, 170, 255)">myCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WaitForSeconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="دستورات-مدیریت-coroutineها"></a>دستورات مدیریت Coroutineها<a aria-hidden="true" tabindex="-1" class="hash-link" href="#دستورات-مدیریت-coroutineها" title="Direct link to heading">#</a></h3><p>در نهایت با استفاده از این دستورات می‌توان نسبت به فراخوانی و متوقف کردن Coroutineها اقدام نمود:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">StartCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">MyCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>شروع اجرای <code>MyCoroutine</code></em></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">StopCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">MyCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>متوقف کردن <code>MyCoroutine</code></em></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">StopAllCoroutines</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p><em>متوقف کردن تمام Coroutineهای در حال اجرا</em></p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>تمرین</h5></div><div class="admonition-content"><p>تمرین: کارکرد این Coroutine را توضیح دهید و در صورت لزوم آن را اجرا کنید.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">IEnumerator </span><span class="token function" style="color:rgb(130, 170, 255)">myCoroutine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Debug</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        yield </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">WaitForSeconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain">f</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/unityscripting/unitysnippets"><div class="pagination-nav__sublabel">مطلب قبلی</div><div class="pagination-nav__label">« قطعه‌کدهای کاربردی در یونیتی</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/unityfeatures/spriteeditor"><div class="pagination-nav__sublabel">مطلب بعدی</div><div class="pagination-nav__label">اسپرایت ادیتور »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#متدهای-invoke" class="table-of-contents__link">متدهای Invoke</a><ul><li><a href="#متد-invoke" class="table-of-contents__link">متد <code>Invoke</code></a></li><li><a href="#متد-invokerepeating" class="table-of-contents__link">متد <code>InvokeRepeating</code></a></li></ul></li><li><a href="#coroutineها" class="table-of-contents__link">Coroutineها</a><ul><li><a href="#ساختار-یک-coroutine" class="table-of-contents__link">ساختار یک Coroutine</a></li><li><a href="#دستورات-تعلیق" class="table-of-contents__link">دستورات تعلیق</a></li><li><a href="#دستورات-مدیریت-coroutineها" class="table-of-contents__link">دستورات مدیریت Coroutineها</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">یونیتیکورن را دنبال کنید</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/unitycorn_ir" target="_blank" rel="noopener noreferrer" class="footer__link-item">اینستاگرام</a></li><li class="footer__item"><a href="https://virgool.io/@unitycorn" target="_blank" rel="noopener noreferrer" class="footer__link-item">وبلاگ در ویرگول</a></li><li class="footer__item"><a href="https://github.com/asajadi84/unitycorn" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">اپلیکیشن یونیتیکورن</h4><ul class="footer__items"><li class="footer__item"><a href="https://cafebazaar.ir/app/ir.unitycorn.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">کافه بازار</a></li><li class="footer__item"><a href="https://myket.ir/app/ir.unitycorn.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">مایکت</a></li></ul></div></div><center><img class="footerlogo" src="/img/footerlogo.svg" width="150px"></center><div class="text--center"><div>کپی لفت 2020 - انتشار مطالب با ذکر منبع مجاز است.</div></div></div></footer></div>
<script src="/styles.adf69334.js"></script>
<script src="/runtime~main.7c156b5d.js"></script>
<script src="/main.051110ab.js"></script>
<script src="/1.36911208.js"></script>
<script src="/2.9b748b87.js"></script>
<script src="/57.08c438cc.js"></script>
<script src="/f976f453.9437ea21.js"></script>
<script src="/17896441.1d34f737.js"></script>
<script src="/771b9254.edfe364e.js"></script>
</body>
</html>