<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">مدیریت استثنا (خطا) در سی شارپ | یونیتیکورن</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="مدیریت استثنا (خطا) در سی شارپ | یونیتیکورن"><meta data-react-helmet="true" name="description" content="در هنگام برنامه‌نویسی اشتباه کردن یک امر متداول است؛ حتی حرفه‌ای‌ترین و کارآزموده‌ترین برنامه‌نویس‌ها هم ممکن است در ساده‌ترین مسائل مرتکب خطا شوند. این خطا می‌تواند حاصل اشتباه محاسباتی، منطق غلط و یا حتی یک اشتباه تایپی باشد."><meta data-react-helmet="true" property="og:description" content="در هنگام برنامه‌نویسی اشتباه کردن یک امر متداول است؛ حتی حرفه‌ای‌ترین و کارآزموده‌ترین برنامه‌نویس‌ها هم ممکن است در ساده‌ترین مسائل مرتکب خطا شوند. این خطا می‌تواند حاصل اشتباه محاسباتی، منطق غلط و یا حتی یک اشتباه تایپی باشد."><meta data-react-helmet="true" property="og:url" content="http://unitycorn.ir/docs/csharp/exceptionhandling"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="http://unitycorn.ir/docs/csharp/exceptionhandling"><link rel="stylesheet" href="/styles.6e3f3eae.css">
<link rel="preload" href="/styles.779e20fa.js" as="script">
<link rel="preload" href="/runtime~main.a4142f2e.js" as="script">
<link rel="preload" href="/main.ac24bb4e.js" as="script">
<link rel="preload" href="/1.5b4e52bb.js" as="script">
<link rel="preload" href="/2.57fd0dde.js" as="script">
<link rel="preload" href="/57.15b08923.js" as="script">
<link rel="preload" href="/f976f453.32a9f027.js" as="script">
<link rel="preload" href="/17896441.b8ad5c03.js" as="script">
<link rel="preload" href="/96bda186.e2178c50.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">یونیتیکورن</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://zarinp.al/@asajadi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">حمایت مالی</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">یونیتیکورن</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://zarinp.al/@asajadi" target="_blank" rel="noopener noreferrer" class="menu__link">حمایت مالی</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 مقدمه</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/passage">بررسی کلی بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/explanation">توضیحات مهم قبل از شروع</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/requirements">پیش‌نیازهای بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/intro/install">دریافت و نصب یونیتی (ویندوز)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 شروع توسعه در یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/project">پیش‌نیازهای بازی‌سازی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/editor">بررسی ادیتور یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/gamedesign">طراحی بازی در یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/components">کامپوننت‌های مبتدی یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/startdeveloping/androidbuild">گرفتن خروجی اندروید از پروژه</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">🛠️ آموزش برنامه‌نویسی سی شارپ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/intro">مقدمه‌ای بر برنامه‌نویسی و زبان سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/consoleappexamples">چند مثال تحت کنسول</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/oop">شی‌گرایی در سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/extensionmethods">متدهای توسعه‌یافته</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/enum">نوع داده‌ی enum و کاربرد آن در یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/solid">قواعد SOLID در طراحی شی‌گرا</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/genericmethods">متدهای generic سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/singleton">بررسی کاربرد و طرز کار دیزاین پترن singleton</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/csharp/exceptionhandling">مدیریت استثنا (خطا) در سی شارپ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/csharp/tips">نکات سی شارپ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🛠️ اسکریپت‌نویسی در یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/intro">مقدمه</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/scriptsstructure">ساختار و طرز کار اسکریپت‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/monobehaviourfield">نقش فیلد در اسکریپت MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/monobehaviourmethod">نقش متد در اسکریپت MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/scriptingsummary">خلاصه‌ی مراحل اسکریپت‌نویسی MonoBehaviour</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/unityclasses">کلاس‌های پراستفاده‌ی یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/unitysnippets">قطعه‌کدهای کاربردی در یونیتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityscripting/scriptinginstructions">دستورات اجرای کد</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 قابلیت‌های یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/spriteeditor">اسپرایت ادیتور</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/animation">انیمیشن در یونیتی (دوبعدی)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/audiomixer">میکسر صوتی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/unityremote">یونیتی ریموت</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityfeatures/optimization">بهینه‌سازی بازی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 ساخت رابط کاربری با UI system</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unityui/uisystem">آشنایی با UI System یونیتی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 معرفی پکیج‌های یونیتی</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/unitypackages/playground">Playground</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎨 آموزش فتوشاپ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/ui">بررسی رابط کاربری و آشنایی کلی</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/tools">ابزارها و امکانات</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/layers">مفهوم لایه‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/layerstyle">سبک لایه و استایل</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/text">کار با متن</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/panels">پنل‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/adjustments">ویرایش و تنظیم تصاویر</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/filters">فیلترها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/brushes">براش‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/actions">اکشن‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/3d">سه‌بعدی‌سازها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/masks">ماسک‌ها</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/photoshop/projects">پروژه‌های تمرینی</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">🎮 آموزش‌های متفرقه</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc/androidstudio2unity">مهاجرت از اندروید استودیو به یونیتی</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">مدیریت استثنا (خطا) در سی شارپ</h1></header><div class="markdown"><p>در هنگام برنامه‌نویسی اشتباه کردن یک امر متداول است؛ حتی حرفه‌ای‌ترین و کارآزموده‌ترین برنامه‌نویس‌ها هم ممکن است در ساده‌ترین مسائل مرتکب خطا شوند. این خطا می‌تواند حاصل اشتباه محاسباتی، منطق غلط و یا حتی یک اشتباه تایپی باشد.</p><p>به طور معمول IDEهای کدنویسی آن‌قدر هوشمند هستند که می‌توانند خطا و مکان آن را تشخیص داده و در مواردی راه اصلاحش را به برنامه‌نویس پیشنهاد دهند. اما خطاهایی هم وجود دارند که برنامه‌نویس و کامپایلر قادر به تشخیصشان نیستند و بعد از کامپایل شدن و هنگام اجرای برنامه خودشان را نشان می‌دهند.</p><p>به خطاهایی که در زمان اجرای برنامه رخ می‌دهند استثنا (به انگلیسی: exception) گفته می‌شود. از آن‌جایی که برنامه‌نویس بعد از اجرا شدن برنامه امکان مدیریت کد و اصلاح آن را ندارد کد به هیچ‌وجه نباید باعث بروز خطا و مشکل شود؛ چرا که حتی یک استثنا می‌تواند باعث کرش کردن برنامه شود.</p><p>با این حال در برخی از موارد رخ دادن یک خطا خارج از کنترل برنامه‌نویس است. برای مثال فرض کنید یک برنامه یا بازی باید از طریق اینترنت به یک دیتابیس متصل شده و از روی آن اطلاعاتی را بخواند. دلایل زیادی وجود دارد که ممکن است این فرآیند با مشکل روبرو شود؛ دلایلی مثل قطع بودن اینترنت، شلوغی سرور و عدم پاسخگویی، حذف شدن فایل از روی سرور و…</p><p>در چنین مواردی خطاهایی رخ می‌دهند که برنامه‌نویس نقشی در ایجادشان ندارد. در این حالت برای جلوگیری از کرش کردن برنامه باید تمام حالاتی که ممکن است موجب بروز خطا شوند را شناسایی کرده و تعیین کرد که در صورت بروز خطا کد جایگزین اجرا شود (به عنوان مثال پیام «دریافت داده با خطا مواجه شد» به کاربر نمایش داده شود). به این کار مدیریت استثنا گفته می‌شود.</p><blockquote><p>مدیریت استثنا به عملیاتی گفته می‌شود که در طی آن قابلیت‌هایی به کد اضافه می‌شود تا در برابر هر نوع استثنا عکس‌العمل مناسب داده شده و از کرش برنامه جلوگیری شود.</p></blockquote><p>پیش از بررسی نحوه‌ی مدیریت استثنا در سی شارپ ابتدا با انواع استثناهای این زبان آشنا می‌شویم. در زبان سی شارپ دو نوع استثنا وجود دارد.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="استثناهای-ایجاد-شده-توسط-clr"></a>استثناهای ایجاد شده توسط CLR<a aria-hidden="true" tabindex="-1" class="hash-link" href="#استثناهای-ایجاد-شده-توسط-clr" title="Direct link to heading">#</a></h2><p>این استثناها به هنگام برخورد با مشکلاتی که وقوع آن‌ها قبلاً توسط دات نت پیش‌بینی شده «پرتاب» می‌شوند (دلیل استفاده از کلمه‌ی پرتاب در ادامه توضیح داده می‌شود).</p><p>برای مثال کد زیر را در نظر بگیرید:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">using System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class </span><span class="token class-name" style="color:rgb(255, 203, 107)">Program</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    static void </span><span class="token function" style="color:rgb(130, 170, 255)">Main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int zero </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        int a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> zero</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//Console.ReadKey();</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>در این کد یک عدد بر صفر تقسیم می‌شود که این عمل در ریاضی امکان‌پذیر نیست. بنابراین در صورتی که تلاشی برای اجرای این کد انجام شود در هنگام اجرای کد به همراه Debug (با کلید میانبر F5)، اجرا به محض رسیدن به تقسیم عدد به صفر توسط debugger متوقف (break) شده و به محیط IDE (در اینجا ویژوال استودیو) باز خواهیم گشت:</p><p><img alt="image" src="/assets/images/divide_by_zero_exception-051b921df355bb8a4b33a74d4dccfe8f.png"></p><p>همانطور که در تصویر مشاهده می‌شود کامپایلر یک استثنا از نوع <code>DivideByZeroException</code> گرفته و اخطاری مبنی بر handle نبودن (مدیریت نشدن) آن داده می‌شود. اگر برنامه در حالت Debug اجرا نمی‌شد (برای مثال با انتخاب گزینه Start Without Debugging از منوی Debug) یک exception مدیریت (handle) نشده می‌توانست باعث کرش کردن برنامه شود.</p><p>در سی شارپ استثناها در واقع کلاس هستند و هنگام بروز خطا از روی استثنای مربوطه شی ساخته می‌شود (Exception Object). اگر بخواهیم بیشتر به این موضوع وارد شویم باید بدانیم کلاسی به نام <code>Exception</code> وجود دارد که از کلاس <code>Object</code> مشتق شده است. این کلاس خود فرزندی تحت عنوان <code>SystemException</code> دارد که تمامی استثناهای از قبل ایجاد شده‌ی دات نت فریمورک از این کلاس (و در چند مورد از فرزندان این کلاس) ارث‌بری می‌کنند.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="استثناهای-متداول-دات-نت-فریمورک-که-از-قبل-ایجاد-شدهاند"></a>استثناهای متداول دات نت فریمورک که از قبل ایجاد شده‌اند<a aria-hidden="true" tabindex="-1" class="hash-link" href="#استثناهای-متداول-دات-نت-فریمورک-که-از-قبل-ایجاد-شدهاند" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="استثناهایی-که-از-کلاس-systemexception-مشتق-شدهاند"></a>استثناهایی که از کلاس <code>SystemException</code> مشتق شده‌اند<a aria-hidden="true" tabindex="-1" class="hash-link" href="#استثناهایی-که-از-کلاس-systemexception-مشتق-شدهاند" title="Direct link to heading">#</a></h3><ul><li><p><code>IndexOutOfRangeException</code>: هنگام تلاش کاربر برای دسترسی به عضوی از آرایه که index آن در خارج از محدوده مجاز قرار دارد پرتاب می‌شود.</p></li><li><p><code>NullReferenceException</code>: هنگام ارجاع به یک شی null پرتاب می‌شود.</p></li><li><p><code>AccessViolationException</code>: هنگام تلاش کاربر برای دسترسی به حافظه نامعتبر (مانند کد مدیریت نشده، کد Unsafe نادرست و یا استفاده از اشاره‌گر نامعتبر) پرتاب می‌شود.</p></li><li><p><code>InvalidOperationException</code>: توسط متد و هنگام رسیدن آن به حالتی نامعتبر پرتاب می‌شود.</p></li><li><p><code>ArgumentException</code>: کلاس پایه Argument Exceptionها</p></li><li><p><code>ExternalException</code>: کلاس پایه استثناهایی که در خارج از runtime اتفاق افتاده یا هدفگیری می‌شوند.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="استثناهایی-که-از-کلاس-argumentexception-مشتق-شدهاند"></a>استثناهایی که از کلاس <code>ArgumentException</code> مشتق شده‌اند<a aria-hidden="true" tabindex="-1" class="hash-link" href="#استثناهایی-که-از-کلاس-argumentexception-مشتق-شدهاند" title="Direct link to heading">#</a></h3><ul><li><p><code>ArgumentNullException</code>: هنگام قرارگیری یک مقدار null به عنوان آرگومان در یک متد، توسط آن متد پرتاب می‌شود.</p></li><li><p><code>ArgumentOutOfRangeException</code>: هنگام قرارگیری یک مقدار خارج از بازه و بی‌معنی به عنوان آرگومان در یک متد، توسط آن متد پرتاب می‌شود. البته اگر این مقدار index یک آرایه باشد با استثنای <code>IndexOutOfRangeException</code> روبرو می شویم.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="مدیریت-خطا-با-بلوکهای-trycatch"></a>مدیریت خطا با بلوک‌های try/catch<a aria-hidden="true" tabindex="-1" class="hash-link" href="#مدیریت-خطا-با-بلوکهای-trycatch" title="Direct link to heading">#</a></h2><p>در برنامه‌نویسی هنگام بروز یک استثنا از فعل پرتاب شدن (throw) استفاده می‌شود. دلیل استفاده از فعل فوق این است که برنامه‌نویس باید در نقاطی از کد که به صورت بالقوه امکان ایجاد خطایی وجود دارد اقدام به «گرفتن» یا catch کردن آن خطا نماید تا موجب کرش کردن برنامه نشود. برای پیاده‌سازی چنین منطقی از بلوک‌های try/catch استفاده می‌کنیم. این ساختار از دو بلوک به نام‌های بلوک <code>try</code> و بلوک <code>catch</code> تشکیل شده است.</p><ul><li><p>در بلوک <code>try</code> کدهایی را می‌نویسیم که ممکن است با بروز خطا مواجه شوند.</p></li><li><p>در بلوک <code>catch</code> کدهایی را می‌نویسیم که می‌خواهیم در صورت بروز خطا (هنگام اجرای کدهای بلوک <code>try</code>) اجرا شوند.</p></li></ul><p>یک ساختار try/catch به صورت زیر می‌باشد:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><div tabindex="0" class="prism-code language-clike codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">try</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//کدهایی که اجرای موفق آن‌ها خارج از کنترل برنامه‌نویس است</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Exception e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//کدهایی که در صورت بروز خطا هنگام اجرای بلوک ترای اجرا می‌شوند</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>همان‌طور که در کد بالا قابل ملاحظه است بلوک <code>catch</code> می‌تواند همانند یک متد دارای پارامتر باشد. این پارامتر که در کلی‌ترین حالت خود از نوع داده‌ی <code>Exception</code> است به شی خطایی اشاره می‌کند که موجب فراخوانی بلوک <code>catch</code> شده است (در کد بالا <code>Exception e</code>). با استفاده از این پارامتر می‌توان در بلوک <code>catch</code> متدهایی را بر روی این شی صدا زد (مثل متدهایی که پیغام خطا را در قالب string به کاربر بازمی‌گردانند).</p><p>اصلی‌ترین نوع استثنا نوع داده‌ی <code>Exception</code> است که تمام استثناهای دیگر از روی آن ارث‌بری کرده‌اند و بنابراین استفاده از این نوع داده به عنوان پارامتر در بلوک <code>catch</code> باعث می‌شود تمام استثناهای رخ داده هنگام اجرای بلوک <code>try</code> توسط این بلوک گرفته شوند. اما در صورتی که بخواهید برنامه به ازای استثناهای تخصصی‌تر کدهای مختلفی را اجرا کند می‌توانید برای هرکدام بلوک <code>catch</code> جداگانه بنویسید. در این حالت هر بار که یک استثنا پرتاب می‌شود بلوک <code>catch</code> مربوطه آن را دریافت کرده و سپس به جای کرش کردن برنامه آن بلوک <code>catch</code> اجرا می‌شود.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/csharp/singleton"><div class="pagination-nav__sublabel">مطلب قبلی</div><div class="pagination-nav__label">« بررسی کاربرد و طرز کار دیزاین پترن singleton</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/csharp/tips"><div class="pagination-nav__sublabel">مطلب بعدی</div><div class="pagination-nav__label">نکات سی شارپ »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#استثناهای-ایجاد-شده-توسط-clr" class="table-of-contents__link">استثناهای ایجاد شده توسط CLR</a></li><li><a href="#استثناهای-متداول-دات-نت-فریمورک-که-از-قبل-ایجاد-شدهاند" class="table-of-contents__link">استثناهای متداول دات نت فریمورک که از قبل ایجاد شده‌اند</a><ul><li><a href="#استثناهایی-که-از-کلاس-systemexception-مشتق-شدهاند" class="table-of-contents__link">استثناهایی که از کلاس <code>SystemException</code> مشتق شده‌اند</a></li><li><a href="#استثناهایی-که-از-کلاس-argumentexception-مشتق-شدهاند" class="table-of-contents__link">استثناهایی که از کلاس <code>ArgumentException</code> مشتق شده‌اند</a></li></ul></li><li><a href="#مدیریت-خطا-با-بلوکهای-trycatch" class="table-of-contents__link">مدیریت خطا با بلوک‌های try/catch</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">یونیتیکورن را دنبال کنید</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.instagram.com/unitycorn_ir" target="_blank" rel="noopener noreferrer" class="footer__link-item">اینستاگرام</a></li><li class="footer__item"><a href="https://virgool.io/@unitycorn" target="_blank" rel="noopener noreferrer" class="footer__link-item">وبلاگ در ویرگول</a></li><li class="footer__item"><a href="https://github.com/asajadi84/unitycorn" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">اپلیکیشن یونیتیکورن</h4><ul class="footer__items"><li class="footer__item"><a href="https://cafebazaar.ir/app/ir.unitycorn.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">کافه بازار</a></li><li class="footer__item"><a href="https://myket.ir/app/ir.unitycorn.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">مایکت</a></li></ul></div></div><center><img class="footerlogo" src="/img/footerlogo.svg" width="150px"></center><div class="text--center"><div>کپی لفت 2020 - انتشار مطالب با ذکر منبع مجاز است.</div></div></div></footer></div>
<script src="/styles.779e20fa.js"></script>
<script src="/runtime~main.a4142f2e.js"></script>
<script src="/main.ac24bb4e.js"></script>
<script src="/1.5b4e52bb.js"></script>
<script src="/2.57fd0dde.js"></script>
<script src="/57.15b08923.js"></script>
<script src="/f976f453.32a9f027.js"></script>
<script src="/17896441.b8ad5c03.js"></script>
<script src="/96bda186.e2178c50.js"></script>
</body>
</html>